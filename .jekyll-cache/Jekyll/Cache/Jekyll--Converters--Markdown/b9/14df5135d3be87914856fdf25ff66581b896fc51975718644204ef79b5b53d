I"0<p>서버 비용 절감을 위해서 스테이징 서버를 근무시간에만 띄우기로 결정했다. db도 최근 스냅샷을 갖고와서 런칭해 사용하기로 했다. 스테이징 서버는 웹서버용 <code class="highlighter-rouge">AWS ECS fargate</code>와, <code class="highlighter-rouge">Redis</code>용 <code class="highlighter-rouge">EC2 instance</code>, <code class="highlighter-rouge">Rabbitmq</code> 용 <code class="highlighter-rouge">EC2 instance</code>, <code class="highlighter-rouge">RDS  instance</code> 1개로 구성된다. <code class="highlighter-rouge">AWS Console</code>에 들어가서 마우스 클릭으로도 충분히 서버를 실행하고 끌 수 있지만, 다른 instance 를 실수로 중지할 수 있는 위험이 있다. 그리고 현재 사용하고 있는 스테이징 용 db와 새 스테이징의 vpc가 다르다. 스냅샷으로 인스턴스를 런칭할 때 다른 vpc에서 instance 를 런칭해야 하는데, 이렇게 하려면  <code class="highlighter-rouge">aws console</code> 의 <code class="highlighter-rouge">vpc</code> 섹션에서 수동으로 매번 지정해줘야 한다. 그리고 서버 사용이 끝나면 <code class="highlighter-rouge">rds instance</code>를 삭제해야 하는데 이 작업 역시 수동으로 하고 싶지 않는 작업이다.</p>
:ET