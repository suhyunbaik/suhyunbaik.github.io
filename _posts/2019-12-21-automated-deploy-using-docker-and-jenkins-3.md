---
layout: post
title: 도커, 젠킨스, AWS ECR, ECS 로 CI/CD 구축 - 3 AWS ECS  
tags: [AWS ECS, DevOps]
categories: [DevOps]
---

이제 `AWS ECS`를 설정해서 파게이트를 띄워야 한다. `AWS ECS`를 쓰려면 알아야 할 것들을 정리했다.



#### 클러스터(cluster)

ECS의 기본단위로, 컨테이너를 실행하는 가상의 공간이다. 



#### 컨테이너 인스턴스(container instance)

클러스터에 속한 인스턴스다. EC2 또는 파게이트를 선택할 수 있다. 



#### 태스크 디피니션(task definition)

태스크를 실행하기 전에 만드는 스펙이다. 여기에는 컨테이너 네트워크 모드, 역할, 이미지, 실행 명령어 등등 설정을 할 수 있다. 태스크 디피니션을 아마존 콘솔에서 만들어 놓고, `task definition.json` 을 프로젝트에 포함시켜 배포할 때 마다 다르게 설정 할 수 도 있다.



#### 태스크(task)

컨테이너를 실행하는 단위. 



#### 서비스(service)

태스크를 관리하는 단위. 



요약하자면 클러스터 안에는 컨테이너 인스턴스가 있고, 컨테이너 인스턴스를 실행하려면 태스크가 필요하다. 태스크 디피니션을 만들어서 태스크를 어떻게 실행할 것인지 결정한다. 한번 만들어진 태스크 디피니션의 설정값은 디폴트 값처럼 적용된다. 태스크 디피니션은 컨테이너를 배포할 때 마다 변경할 수 있다. 


