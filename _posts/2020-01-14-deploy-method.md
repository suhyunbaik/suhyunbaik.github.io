---
layout: devops_default
title: 배포방식
tags: [deploy, DevOps]
categories: [DevOps]
image: images/thumbnails/deploy_method.png
---

배포 방식

1. 롤링(rolling)
2. 블루 그린(blue green) 
3. 카나리(canary)



##### 1. 롤링(rolling)

서버를 한 대씩 구버전에서 새버전으로 교체하는 방식이다. 구버전에서 새버전으로 트래픽을 점진적으로 전환한다. 이 방식은 서버 수가 제약이 있으면 유용하다. 단점은 배포중에 인스턴스 수가 감소해서 이 부분을 미리 고려해야 한다. 



##### 2. 블루 그린(blue green)

구 버전과 새버전 서버를 동시에 구성한다. 배포 시점이 되면 트래픽을 일제히 전환한다. 버전 관리 문제가 발생하지 않고, 롤백도 빠르게 할 수 있다.



#### 3. 카나리(canary)

카나리는 새를 뜻한다. 이 새는 일산화탄소 및 유독가스에 약하다. 과거에는 광부들이 광산에 카나리를 들고 들어가서 작업을 했고, 카나리가 죽으면 대피를 했다. 여기서 본딴 배포법이다.

구버전과 새버전 서버를 미리 구성하고 일부 트래픽을 새 버전으로 보내 상황을 지켜본다. 이 방법으로 A/B 테스트도 가능하다. 



